<!DOCTYPE html>
<html lang="ko"  xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${boardCodeName}">게시글 상세조회</title>
  <link rel="stylesheet" href="/css/bootstrap.css">
  <link rel="stylesheet" href="/css/board/boardDetail.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>

    tr > td {
      height: 30px;
      text-align: center;

      vertical-align: middle;
    }

  </style>

  <script src="/js/ckeditor51/build/ckeditor.js"></script>
</head>
<body class="d-flex flex-column" style="height: 100vh;" >

  <th:block th:replace="~{common/header}"></th:block>
  <!-- memberList, pagination 변수 선언 -->
  <main class="d-flex flex-grow-1 overflow-y-auto">

    <!-- 사이드바 -->
    <th:block th:replace="~{board/sidebar}"></th:block>

    <!-- 회원정보조회 -->
    <div class="d-flex flex-column flex-grow-1 p-3">

      <!-- 타이틀 -->
      <div class="d-flex justify-content-between align-items-center border-bottom">
        <div class="fs-3 pb-3 px-3" th:text="${boardCodeName}">
          보드 타이틀 예정
        </div>
      </div>

      <div class="w-100 px-4 pt-2 flex-grow-1 overflow-y-auto">


        <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ보드디테이르ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ -->
        <section class="board-detail">  
          <!-- 제목 -->
          <h1 class="board-title" th:text="${board.boardTitle}">  게시글 제목  </h1>

          <!-- 프로필 + 닉네임 + 작성일 + 조회수 -->
          <div class="board-header">
              <div class="board-writer">

                  <!-- 프로필 이미지 -->
                  <!-- 프로필 이미지가 없을 경우 기본 이미지 출력 -->

                  <!-- 타임리프 if문에서 객체가 null이 아니면 true
                       null 이면 false
                  -->
                  <img>
                  
                  <!-- 프로필 이미지가 있을 경우 출력 -->
                  <img>



                  <span th:text="${board.memberName}">작성자 이름</span>

                  
                  <!-- 북마크 하트 -->
                  <span class="like-area">
                      
                      <!-- 좋아요 누른적이 있으면 fa-solid, 없으면 fa-regular 클래스 추가 -->
                      <!-- ${likeCheck} ? fa-solid : fa-regular
                          -> ${likeCheck}가 참조하는 값이 있으면 fa-solid
                             없으면 (== null) fa-regular
                      -->
                      <i class="bi" id="bookMark" style="color: gold;" th:classappend="${bookMark} ? bi-star-fill : bi-star"></i>
                  </span>

              </div>

              <div class="board-info">
                  <p> <span th:text="|작성일 &nbsp;${board.boardWriteDate}|">작성일</span> </p>     
                  <!-- <p> <span>작성일</span> [[*{boardWriteDate}]] </p>      -->


                  <p> <span th:text="|조회수 &nbsp;${board.boardHits}|">조회수</span> </p>                    
                  <!-- <p> <span>조회수</span> [[*{readCount}]] </p>                     -->
              </div>
          </div>






          <!-- 이미지가 있을 경우 -->
          <th:block >
              
          <!-- 썸네일 영역(썸네일이 있을 경우) -->
          <!--  
              - 이미지는 IMG_ORDER 오름차순을 정렬된다
              - IMG_ORDER의 값이 0인 이미지가 썸네일이다
              -> imageList에 썸네일이 있다면
                  조회 되었을 때 IMG_ORDER가 0인 이미지가
                  imageList [0]에 저장 되었을 것이다
          -->
          <th:bloack >
              <h5>썸네일</h5>
              <div class="img-box">
                  <div class="boardImg thumbnail">
                      <img>                     
                      <a>다운로드</a>         
                  </div>
              </div>
          </th:bloack>



          <!-- 일반 이미지가 있을 경우 -->
          <th:block>

              <!-- 업로드 이미지 영역 -->
              <h5>업로드 이미지</h5>
              <div class="img-box">

                  <div >

                      <img>   

                      <a >다운로드</a>                
                  </div>

              </div>
          </th:block>
      
          </th:block>
          





          <!-- 내용 -->
          <div class="board-content" th:text="${board.boardContent}">내용</div>



          <!-- 버튼 영역-->
          <div class="board-btn-area">

              <!-- 로그인한 회원과 게시글 작성자 번호가 같은 경우-->
              <div class="btn-group W-100" style="float: right;">
                <th:block th:if="${session.loginMember != null and session.loginMember.memberNo == board.memberNo}">
                  <a th:href="@{/board/boardUpdate/{boardCodeNo}/{boardNo}/update(boardCodeNo=${boardCodeNo}, boardNo=*{boardNo})}"  class="updateBtn me-1">수정</a>
                  <button type="button" class="deleteBtn me-1" id="deleteBtn">삭제</button>
                </th:block>
                <button id="goToListBtn" class="listBtn me-1">목록으로</button>
              </div>
          </div>

      </section>


      <!-- 댓글 영역-->
      <!-- <th:block th:replace="~{board/comment}"></th:block> -->


      <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ보드디테이르ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ -->



      </div>



  <!-- 
      <div class="w-100 d-flex justify-content-end pe-4 sticky-bottom bg-white mb-3">
        <a href="/board/boardWrite" class="btn btn-warning mx-3" style="width: 80px;">작성</a>
      </div>
       -->
    </div>
  </main>

  <script src="/js/bootstrap.bundle.min.js"></script>
  <script src="/js/board/boardDetail.js"></script>

  
  <script th:inline="javascript">
    const boardCodeNo = /*[[${boardCodeNo}]]*/ "게시판 코드";
    const boardCodeName = /*[[${boardCodeName}]]*/ "게시판 이름";
    const boardNo = /*[[${boardNo}]]*/ "게시글 번호";
    // session에 세팅된 loginMember 존재 여부 확인 
    const loginCheck = /*[[${session.loginMember != null ? true : false}]]*/ "로그인 여부";


    // 목록 버튼 눌렀을 때 이전 페이지로 이동
    // document.getElementById("listBtn").addEventListener("click", function() {
    // window.history.back();
    // });


    

  
  </script>

  
</body>
</html>